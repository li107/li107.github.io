---
layout: page
title:  "PHP基本语法"
subtitle: "入门程序员"
date:   2020-09-26 16:14:21 +0530
categories: ["WEB基础知识"]
---

## 环境 
- 需要下载具有Apache、PHP、MySQL等服务器软件和工具
	- apache可以解析php语言
	- PHP服务器可以设置文件上传的大小以及数量
	- MySQL为php提供数据库
- 可以使用具有这三种工具的软件
	- phpStudy(Windows系统)
	- phpStudy Linux(linux系统)
	- 优点:安装简单、速度较快、运行稳定
	- 缺点:灵活性要差很多
- 非80端口在访问时需要在地址后加上端口
- 默认域名为localhost,可以增删改
- phpStudy下载安装
	- 下载软件PHPstudy(选择你要保存的文件路径)
		- 1.下载好之后打开PHPstudy
		- 2.配置网站根目录：点击左边栏目上的网站->点击右边管理->设置网站根目录->放在PHPstudy文件夹下的www文件中
		- 3.配置环境变量：鼠标右键点击此电脑（我的电脑）->点击高级系统设置->点击环境变量->找到用户变量下的Path->点击编辑->点击新建->把复制好的两个路径分别新建粘贴上去
		- 回到PHPstudy安装目录下->点击Extensions->点击MySQL5.7.26->点击bin->复制路径
		- 点击Extensions->点击PHP->点击php7.3.4nts->鼠标放在路径上面右键复制路径

## 代码执行逻辑
- 一般情况下代码自上而下的执行
- 在有条件语句时执行可能会发生变化
    - 遇到判断语句，真则继续执行，假则跳过
    - 遇到循环语句，真则循环执行，假则停止执行
    - 遇到停止条件，会停止执行剩余的代码

## 变量与数据类型
- 变量规则
    - 变量以 $ 符号开头，其后是变量的名称
    - 变量名称必须以字母或下划线开头  
    - 变量名称不能以数字开头
    - 变量名称只能包含字母数字字符和下划线（A-z、0-9 以及 _）
    - 变量名称对大小写敏感（$y 与 $Y 是两个不同的变量）
    - PHP 变量名称对大小写敏感！

- 变量的作用域
- 全局变量
    - 没有被任何的其他代码包起来的变量定义叫做全局变量
    - 任何位置都可以直接使用
- 局部变量
    - 在特定的范围内可以使用


- 变量
	- 一个可变的量
	- 变量就是一个有名字的容器
	- 命名规则:
		- 变量名以$开头
		- 变量名由 字母 数字 下划线 组成
		- 变量不能以数字开头
- 预定义变量
	- PHP 提供了大量的预定义变量
	- 超全局变量 — 超全局变量是在全部作用域中始终可用的内置变量
	- $GLOBALS-------- 引用全局作用域中可用的全部变量
	- $_SERVER-------- 服务器和执行环境信息
		- 是一个包含了诸如头信息(header)、路径(path)、以及脚本位置(script locations)等等信息的数组
	- $_GET--------- HTTP GET 变量
	    - 通过 URL 参数（又叫 query string）传递给当前脚本的变量的数组
	- $_POST -------- HTTP POST 变量
		- 当 HTTP POST 请求的 Content-Type 是 application/x-www-form-urlencoded 或 multipart/form-data 时，会将变量以关联数组形式传入当前脚本。
	- $_FILES -------- HTTP 文件上传变量
		- 通过 HTTP POST 方式上传到当前脚本的项目的数组
	- $_REQUEST  ------- HTTP Request 变量
	- $_SESSION ------ Session 变量
		- 当前脚本可用 SESSION 变量的数组。
	- $_ENV -------- 环境变量
		- 通过环境方式传递给当前脚本的变量的数组。
	- $_COOKIE -------- HTTP Cookies
	- 通过 HTTP Cookies 方式传递给当前脚本的变量的数组
	- $http_response_header ------- HTTP 响应头
	- $http_response_header 数组与 get_headers() 函数类似。当使用HTTP 包装器时，$http_response_header 将会被 HTTP 响应头信息填充。$http_response_header 将被创建于局部作用域中。
	- $argc -------- 传递给脚本的参数数目
		- 包含当运行于命令行下时传递给当前脚本的参数的数组。
	- $argv -------- 传递给脚本的参数数组
		- 包含当运行于命令行下时传递给当前脚本的参数的数组。
- 数据类型
	- 字符串
		- 以双引号或单引号加内容的为字符串
		- 单引号不可以解析变量, 双引号可以解析变量
			- 解析变量使用{}
		- 单引号不可以解析特殊字符, 双引号可以解析特殊字符
		- 字符串内可以解析特殊字符 /t /r ...
		- 双引号镶嵌双引号或单引号需要在前面加上 转义字符/
		- 单引号镶嵌单引号加转义字符，双引号则不需要
	- 整数
		- 整数是没有小数的数字
		- 整数规则：
		- 整数必须有至少一个数字（0-9）
		- 整数不能包含逗号、空格或小数点
		- 整数正负均可
		- 可以用三种格式规定整数：十进制、十六进制(前缀是 0x)或八进制(前缀是 0)
	- 浮点数
		- 浮点数是有小数点或指数形式的数字
	- bool布尔型
		- true 真
		- flase 假
		- 通常用于条件的判断
	- 数组
		- 一个变量中存储多个键值
		- 使用array()或者[]定义
		- 以键值对的方式存储的 key => value
		- 每个键值使用 , 隔开
		- 数组的分类
			- 索引数组
				- key 为数字的(一个数字对应一个值)
			- 关联数组
				- key 为字符串的(一个名字对应一个值)
			- 混合数组
				- key 既有数字, 又有字符串的;
		- 多维数组
			- 就是在数组的嵌套
	- 对象
		- 对象是存储数据和有关如何处理数据的信息的数据类型
	- 资源类型
		- 资源类型是一种特殊类型变量，引用外部资源
	- NULL
		- NULL 值表示变量无值
		- 可以通过把值设置为 NULL，将变量清空

## 函数
- 函数可以接收一些参数来控制代码执行的功能(gif -> png),并且函数会返回一个值, 可能为空,只要带括号的就是函数.

```php
<?php
	function hanshu(){

		}
?>
```

- 函数的定义
    - 函数（function）是指一段完成指定任务的已命代码块，函数可以接收一些参数来控制代码执行的功能(gif > png)并且函数会返回一个值,可能为空NULL,只要带括号的就是函
- 使用函数的优势：
    - 控制程序设计的复杂性
    - 提高软件的可靠性
    - 提高软件的开发效率
    - 提高软件的可维护性
    - 提高程序的重用
- 函数的使用
    - 调用函数 
        - 函数名() 函数只有被调用了才会去执行函数体的代码, 否则是不会执行的.
    - 函数的参数
        - 通过参数可以用将传递信息到函数，以 , 作为分隔符的表达式列表。参数是从左向右求值的。
        - 从左到右是 形参 , 实参 传递参数一般传递的都是实参
    - 通过引用传递参数
        - 函数参数通过值传递（因而即使在函数内部改变参数的值，它并不会改变函数外部的值）
        - 如果希望允许函数修改它的参数值，必须通过引用传递参数。
        - 如果想要函数的一个参数总是通过引用传递，参数前面必须加上&
- php有两种函数:
    - 自定义函数
    - 内置函数(系统提供)
- 函数名字规则
    - 由字母下划线和数字组成
    - 要以字母或下划线开头, 不允许使用数字开头
    - 函数的名字不区分大小写
    - 函数不能重复定义, 同名的函数只能出现一个
        - 自己定义的函数与内置函数不能重名
- 函数的参数
    - 形参 形式上的参数(形参就是一个变量名字)，在定义函数的圆括号中的参数为形参
    - 实参 实际的参数(就是值)，在调用函数的额圆括号中的参数为实参
    - 参数可以传递任意类型的数据
- 函数的变量作用域
    - 在函数里面定义的变量只能在定义变量的函数中使用
    - 非要使用要声明为全局变量
        - 变量前加 global 声明
- 函数的返回值
    - 返回包括数组和对象的任意类型
    - 如果省略了return，则返回值为NULL
    - 函数不能返回多个值，但可以返回一个数组
    - 当覆盖一个父类方法时，子类方法的返回值类型声明必须与父类一致。如果父类方法没有定义返回类型，那么子类方法可以定义任意的返回值类型声明
- 匿名函数
    - 一个没有指定名称的函数，最经常用作回调函数参数的值
    - 结尾加上指令分隔符 ;
- 回调函数
    - 在一个函数内调用另一个函数
- 递归函数(例:for循环内调用函数)
    - 每一次调用, 都是独立的空间, 不会互相影响

## 类
- 以关键字class开头，后接类名，再加上花括号组成
    - 花括号内跟上成员属性(变量和常量)以及成员方法(函数)
    - 成员属性与方法格式:访问修饰符加上变量命名或function函数名(形参...)
- 类名规则：
    - 以大写字母或下划线开头，后面跟着若干字母，数字或下划线
    - 类与函数一样不允许重复命名
- 使用一个类
    -  类需要实例化成对象使用
    -  new 加 类名()
    -  访问成员方法以及属性(需要实例化后使用)
        - 类名()-> 成语属性与方法名
- 类常量
    - 使用const定义
    - 外部获取使用静态访问符 ::
    - 类名::常量名
- 类的自动加载
    - 自动加载函数 __autoload 在其中引入类文件
    - 自动加载规则:
        - 当new一个不存在(未定义)当前文件的类时, 系统会将类名传递给类自动加载函数
        - 所有的类必须放在一个文件夹内
        - 文件名字必须和类名一致(区分大小写)
        - 文件的后缀必须为 .class.php
- 构造函数与析构函数
    - 构造函数 __construct
        - 执行:当类被实例化的时候会执行
        - 作用:对象的内容被初始化
    - 析构函数 __destruct
        - 执行:在对象销毁前执行（文件执行完成后从内存中移除）
        - 作用:关闭数据库连接
- 访问控制(3种)
    - public  公开
    - 类外部无法访问:
    - protected  受保护的
    - private   私有的
- 类的继承
    - class 类名 extends 父类名{}
    - 父类名只允许写一个
    - 继承父类只能获取公有和受保护的方法和属性
    - 子类重写父类
        - 访问控制的重写等级只能往大该
        - `public > peotected > private`
- 静态修饰符
    - 跟在访问控制符后
    - 静态的内容无需实例化，直接使用 ::静态访问符 调用
    - 静态方法中的$this使用self代替
- final 关键字
    - 在class前或者成员方法前添加
    - 写上了final关键字的类不能被继承，会报致命错误
- 对象复制
    - 由于对象赋值不能直接复制（引用类型），所以需要使用clone关键字
    - 对象中的 __clone() 方法不能被直接调用
- 对象比较
    - 使用 == 比较对象:如果两个对象的属性和属性值 都相等，而且两个对象是同一个类的实例，那么这两个对象变量相等
    - 使用 === 比较对象，这两个对象变量要为类的同一个实例
- 对象的串行化和反串行
    - 将对象持久化的储存或传输，转为字符串
    - 串行化:将对象变成字符串
    - 反串行化:将字符串变成对象
- 抽象类
    - 声明抽象方法和类在前面加上 abstract
    - 如果类中有抽象方法，类也必须定义为抽象类
    - 抽象类不能被实例化
    - 除抽象内容，其余可被正常继承使用
- 对象接口
    - 用来限定使用接口的类的方法，限定子类需要定义哪些方法
    - 定义接口
        - interface 接口名(命名与类名一致)
    - 使用接口
        - 类名 implements 接口名
    - 接口之间可以使用继承
- 魔术方法————通常以`__`开头
    - `__get(): __get(string $name) : mixed`当访问(获取)一个不存在或没权限(访问控制)属性(变量)
    - `__set(): __set(string $name, mixed $value) : void`当设置(赋值)一个不存在或没权限(访问控制)属性(变量)
    - `__construct()`构造函数
    - `__destruct()`析构函数
    - `__isset(string $name):bool`访问一个不存在或不可访问的属性是自动调用
    - `__unset(string $name):void`当调用unset去删除不可访问或不存在的属性时自动调用
    -  `__call(string $funcName,array $arg):mixed`当调用不存在或无法访问的方法时，php会报错,使用__call时，报错将交给它处理
    - `__sleep(void):array`返回需要保存的属性名字，在对一个对象进行串行化时执行
    - `__wakeup(void):void`针对一些无法保存的属性进行初始化，在反串行化时执行
        - 资源（mysql的连接 打开文件 打开目录）
    - `__callStatic(string $name,array $param):mixed`当调用一个不可访问或不存在的静态方法，自动调用。该魔术方法需要修饰为静态
    - `__invoke():mixed`当尝试以调用函数的方式调用一个对象时，__invoke 方法会被自动调用

## 常用第三方包的管理工具以及常用的组件
- 第三方工具：
	- 顾名思义 不属于电脑或者代码的第三方工具（软件，插件）
	- 例如：Visual Studio Code编辑器以及它的插件组件 PHPstorm编辑器等
- 模块的分类
    - 标准模块 内置模块（也称为标准库，内置库）
    - 模块
    - 为了编写可维护的代码，把很多函数分组，分别放到不同的文件里，这样，每个文件包含的代码就相对较少，编程语言采用这种组织方式。
    - 使用模块的好处：最大的好处是大大提高了代码的可维护性。其次，编写代码不必从零开始。当一个模块编写完毕，就可以被其他地方引用。
    - 模块一旦使用 即相当于使用了另一个文件的代码或封装好的类
- 常用的第三方包的管理工具————composer
    - 下载
        - 官网命令行下载 phpcomposer.com
        - composerr为我们去下载php组件
        - 下载有关的操作有一下三个子命令
            - require 下载普通组件
            - create-project 大组件（包含了很多普通组件框架,larvael）
            - install
    - 代码执行完后进行全局安装
        - 找到并进入 PHP 的安装目录（和你在命令行中执行的 php 指令应该是同一套 PHP）。
        - 将 composer.phar 复制到 PHP 的安装目录下面，也就是和 php.exe 在同一级目录。
        - 在 PHP 安装目录下新建一个 composer.bat 文件，并将   `@php "%~dp0composer.phar" %*`  保存到此文件中。
    - 最后重新打开一个命令行窗口试一试执行 composer --version 看看是否正确输出版本号
- 常用的组件————laravel框架
- 框架:就是一堆常用的组件组成的一个大组件并且某些有特定的文件夹结构
- 组件库 `https://packagist.org/`
    - 安装larvael
    - 配置中国镜像（阿里云）——下载快 少bug `composer config -g repo.packagist composer https://mirrors.aliyun.com/composer/`
    - 下载 `composer create-project --prefer-dist laravel/laravel manSys "5.5.*"`
    - `php artisan key:generate` 生成KEY